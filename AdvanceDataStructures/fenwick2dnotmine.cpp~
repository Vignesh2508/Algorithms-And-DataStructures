    #include<stdio.h>
    #define MAX 509
     
    long long int B1[MAX][MAX],B2[MAX][MAX];
     
    void update(long long int *A, int index, int value, int n)
    {
    for(;index<=n;index+=(index&(-index)))
    A[index] += value;
    }
     
    long long int query(long long int *A, int index)
    {
    long long int sum = 0;
    for(;index;index-=(index&(-index)))
    sum += A[index];
    return sum;
    }
     
    int main()
    {
    int n,m,i,j,q,v,x1,a,x2,b,op;
    long long int t1,t2;
    scanf("%d%d",&n,&m);
    for(i=0;i<n;i++)
    for(j=1;j<=m;j++)
    {
    scanf("%d",&v);
    update(B1[i],j,v,m);
    update(B1[i],j+1,-v,m);
    update(B2[i],j,-v*j+v,m);
    update(B2[i],j+1,v*j,m);
    }
    scanf("%d",&q);
    while(q--)
    {
    scanf("%d%d%d%d%d",&op,&x1,&a,&x2,&b);
    if(op == 1)
    {
    scanf("%d",&v);
    for(i=x1-1;i<x2;i++)
    {
    update(B1[i],a,v,m);
    update(B1[i],b+1,-v,m);
    update(B2[i],a,-v*a+v,m);
    update(B2[i],b+1,v*b,m);
    }
    }
    else
    {
    t1 = t2 = 0;
    for(i=x1-1;i<x2;i++)
    {
    t1 = t1 + (query(B1[i],b)*b + query(B2[i],b));
    t2 = t2 + (query(B1[i],a-1)*(a-1) + query(B2[i],a-1));
    }
    printf("%lld\n",t1-t2);
    }
    }
    return 0;
    }
/*

10 10
21 324 32 12 32 435 34 23 34 43
52 3 3 44 5 66 66 77 77 44
1 2 3 4 5 6 7 8 9 55
4 5 6 7 6 5 4 3 2 3
12 32 43 54 32 45 54 56 332 23
21 323 43 45 65 57 45 34 23 34
1 2 3 4 5 6 7 8 9 55
4 5 6 7 6 5 4 3 2 3
12 32 43 54 32 45 54 56 332 23
100 100 100 22 222 333 444 555 699 888
20
2 1 1 10 10
1 2 4 7 8 100
2 1 1 10 10
2 4 4 8 8
2 3 9 8 9
2 3 3 9 9
1 5 5 10 10 43
2 4 4 9 8
1 6 6 8 8 90
2 4 4 10 8
2 6 6 7 9
1 4 4 8 8 10
2 4 4 8 8
2 3 9 8 9
2 3 3 9 9
1 4 5 7 8 66
2 3 4 7 9
2 4 6 8 10
1 1 2 5 6 99
2 3 5 7 6
*/

